<div class="imagecontent-menu">
  {%- for i in (1..2) -%}
    {%- assign image_setting = 'image_' | append: i -%}
    {%- assign heading_setting = 'image_' | append: i | append: '_heading' -%}
    {%- assign text_setting = 'image_' | append: i | append: '_text' -%}
    {%- assign link_setting = 'image_' | append: i | append: '_link' -%}

    {%- capture image_content -%}
          {%- if block.settings[image_setting] -%}
           <div class="menuimgcontent"> 
            <div class="overflow-hidden menuimgdata">
              {{- block.settings[image_setting] | image_url: width: block.settings[image_setting].width | image_tag: loading: 'lazy', sizes: '315px', widths: '315,630,945', class: 'zoom-image group-hover:zoom' -}}
            
            {%- if block.settings[heading_setting] != blank or block.settings[text_setting] != blank -%}
            <div class="textcontent">
              {%- if block.settings[heading_setting] != blank -%}
                <p class="imgtitle">{{ block.settings[heading_setting] }}</p>
              {%- endif -%}
      
              {%- if block.settings[text_setting] != blank -%}
                <a class="hovebtnimg" href="{{ block.settings[link_setting] }}"><p class="smallcaps text-xs text-subdued">{{ block.settings[text_setting] }}</p></a>
              {%- endif -%}
            </div>
            {%- endif -%}
            </div>
            </div>
          {%- endif -%}
      
        {%- endcapture -%}

    {%- if image_content != blank -%}
      <div class="megamenu-image">
        {{- image_content -}}
      </div>
    {%- endif -%}
  {%- endfor -%}
</div>
